<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Event Handling</title>
<script>
    /*
        이벤트 핸들러는 특정 이벤트가 발생했을 때 실행하고자 하는 
        자바스크립트 함수나 코드 함수 호출 시 인자값으로 event 또는 window.event를 보낸다.

        이벤트 객체의 속성과 메소드 
        1. type : 현재 발생한 이벤트의 종류를 나타내는 문자열 
        2. target : 이벤트를 발생시킨 객체(태그)
        3. currentTarget : 현재 이벤트를 실행하고 있는 DOM 객체
        4. preventDefault() : 이벤트의 디폴트 행동을 취소시키는 메소드
    */
    function myEvent(e) {
        var message = "이벤트 종류는 " + e.type + "입니다.\n";
        message += "이벤트를 발생시킨 객체(태그)는 " + e.target.tagName + "\n";
        message += "현재 이벤트를 실행하고 있는 객체는 " + e.currentTarget.tagName + "\n";
        alert(message);
    }
</script>
</head>
<body>
    <input type="button" value="버튼">
    <script>
        var input = document.getElementsByTagName('input');
        /*
            1. 이벤트 리스너는 DOM 객체에서 이벤트가 발생할 경우 해당 이벤트 처리 핸들러를 추가할 수 있는 오브젝트입니다.
            2. 이벤트가 발생하면 등록한 이벤트 처리 핸들러가 실행됩니다.
            3. W3C의 표준 방법으로서 DOM 객체의 addEventListener() 메소드로 이벤트 핸들러를 등록할 수 있습니다.
                형식) addEventListener(type, function_name, userCapture)
                    (1) type : 이벤트 타입을 나타내는 문자열로 'click', 'load', 'keyup', 'change' 등등
                    (2) function_name : 이벤트가 발생할 때 실행할 함수명
                    (3) useCapture : true 이면 이벤트 흐름 중 캡쳐 단계에서 실행될 이벤트 핸들러를 등록
                                     false 이면 버블 단계에서 실행될 이벤트 핸들러를 등록. 생략 가능하며 디폴트는 false
                        예) addEventListener('click', myEvent);
        */
        input[0].addEventListener('click', myEvent);
        /*
            버블링
            버블링(bubbling)의 원리는 간단합니다.
            한 요소에 이벤트가 발생하면, 이 요소에 할당된 핸들러가 동작하고, 이어서 부모 요소의 핸들러가 동작합니다. 
            가장 최상단의 조상 요소를 만날 때까지 이 과정이 반복되면서 요소 각각에 할당된 핸들러가 동작합니다.

            캡처링
            이벤트엔 버블링 이외에도 ‘캡처링(capturing)’ 이라는 흐름이 존재합니다. 
            실제 코드에서 자주 쓰이진 않지만, 종종 유용한 경우가 있으므로 알아봅시다.

            표준 DOM 이벤트에서 정의한 이벤트 흐름엔 3가지 단계가 있습니다.
                캡처링 단계 – 이벤트가 하위 요소로 전파되는 단계
                타깃 단계 – 이벤트가 실제 타깃 요소에 전달되는 단계
                버블링 단계 – 이벤트가 상위 요소로 전파되는 단계
        */
    </script>
</body>
</html>